<div class="loanclass">
  <!-- head section -->
  <h2 style="color:#238ef8">LEADS</h2>
  <div class="tableprint">
    <div
      class="tablestylesclass mat-elevation-z8"
      matSort
      (matSortChange)="announceSortChange($event)"
    >
      <table mat-table [dataSource]="dataSource" class="table-responsive">
        <!-- date -->
        <ng-container matColumnDef="loanDate">
          <th
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header="loanDate"
            class="loanDate"
            sortActionDescription="Sort by loanDate"
          >
            Date
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.loanDate | date: "mediumDate" }}
          </td>
        </ng-container>
        <!-- Adhar -->
        <ng-container matColumnDef="adharNumber">
          <th mat-header-cell *matHeaderCellDef class="adhar">Adhar</th>
          <td mat-cell *matCellDef="let element" class="adhar">
            {{ element.adharNumber | maskAadhar }}
          </td>
        </ng-container>
        <!-- Borrower -->
        <ng-container matColumnDef="loanBorrower">
          <th mat-header-cell *matHeaderCellDef class="Borrower borrower">
            Borrower
          </th>
          <td mat-cell *matCellDef="let element" class="loanborrower borrower">
            {{ element.loanBorrower }}
          </td>
        </ng-container>
        <!-- loantype -->
        <ng-container matColumnDef="loanType">
          <th mat-header-cell *matHeaderCellDef>Type</th>
          <td mat-cell *matCellDef="let element">
            <div
              [ngStyle]="{
                'font-size': 'medium',
                display: 'flex',
                'align-items': 'center',
                'justify-content': 'space-between'
              }"
            >
              {{ element.loanType }}
              <button
                *ngIf="
                  element.loanType === 'Mortgage Loan' ||
                  element.loanType === 'Vehicle Loan'
                "
                mat-icon-button
                class="eyeclass"
                [matTooltip]="
                  element.loanType === 'Mortgage Loan'
                    ? element.securityReports
                    : element['vehicleNo']
                "
                matTooltipPosition="above"
              >
                <mat-icon
                  [style]="{ color: 'black', 'font-size': '16px' }"
                  matTooltip=""
                >
                  visibility
                </mat-icon>
              </button>
            </div>
          </td>
        </ng-container>
        
        <!-- lead status -->
        <ng-container matColumnDef="leadStatus">
          <th mat-header-cell *matHeaderCellDef>Lead Status</th>
          <td mat-cell *matCellDef="let element">
            {{ element.leadStatus}}
          </td>
        </ng-container>
        <!-- lead Status Remarks -->
        <ng-container matColumnDef="leadStatusRemarks">
          <th mat-header-cell *matHeaderCellDef>Remarks</th>
          <td mat-cell *matCellDef="let element">
            {{ element.leadStatusRemarks}}
          </td>
        </ng-container>
        <!-- editbutton -->
        <ng-container matColumnDef="actions" class="action">
          <th mat-header-cell *matHeaderCellDef class="action"></th>
          <td mat-cell *matCellDef="let element" class="action">
            <button
              mat-icon-button
              [disabled]="
                (userDetails$ | async)?.organizationCode !==
                element.organizationCode
              "
              (click)="editLoan(element)"
              class="action"
            >
              <mat-icon>edit</mat-icon>
            </button>
          </td>
        </ng-container>

        <tr
          mat-header-row
          *matHeaderRowDef="columnsToDisplay; sticky: true"
        ></tr>
        <tr mat-row *matRowDef="let row; columns: columnsToDisplay"></tr>
      </table>
    </div>
  </div>
</div>
